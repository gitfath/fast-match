export const knowledgeBase = [
    // --- 1. AVANT TÃ‰LÃ‰CHARGEMENT & GÃ‰NÃ‰RAL ---
    {
        keywords: ['c\'est quoi', 'sert Ã  quoi', 'but', 'principe', 'tinder', 'badoo', 'facebook dating', 'match chat date', 'rencontre'],
        response: "Fast Match est l'application de rencontre nÂ°1 au Togo ! ğŸ‡¹ğŸ‡¬ Le principe est simple : crÃ©ez votre profil, dÃ©couvrez des personnes autour de vous, et Swipez ! Ã€ Droite ğŸ‘‰ si vous aimez, Ã  Gauche ğŸ‘ˆ si vous passez. Si l'intÃ©rÃªt est rÃ©ciproque, c'est un MATCH ! âœ¨"
    },
    {
        keywords: ['gratuit', 'payant', 'payer', 'argent', 'coÃ»t', 'abonnement'],
        response: "L'inscription, la crÃ©ation de profil, le swipe (limitÃ©), et le chat avec vos matchs sont 100% GRATUITS. ğŸ‰ Nous proposons des options payantes (Premium, Super Likes) pour ceux qui veulent plus de visibilitÃ© et de fonctionnalitÃ©s."
    },
    {
        keywords: ['disponible', 'togo', 'lomÃ©', 'kara', 'bÃ©nin', 'ghana', 'europe', 'voyage', 'monde', 'zone rurale'],
        response: "L'application fonctionne partout dans le monde ! ğŸŒ Que vous soyez Ã  LomÃ©, Kara, CinkassÃ©, ou mÃªme Ã  Paris ou Accra, tant que vous avez une connexion internet, vous pouvez faire des rencontres."
    },
    {
        keywords: ['langue', 'anglais', 'Ã©wÃ©', 'kabyÃ¨', 'mina', 'arabe'],
        response: "L'interface est disponible en FranÃ§ais, Anglais et Arabe (voir RÃ©glages). Bien que l'interface ne soit pas encore en Ã‰wÃ© ou KabyÃ¨, la communautÃ© est togolaise, donc vous pourrez chatter dans la langue que vous voulez avec vos matchs ! ğŸ‡¹ğŸ‡¬"
    },
    {
        keywords: ['hÃ©tÃ©ro', 'gay', 'lesbienne', 'bi', 'lgbt', 'orientation', 'genre'],
        response: "Fast Match est ouvert Ã  tous, sans discrimination. ğŸ³ï¸â€ğŸŒˆ Dans vos rÃ©glages, vous pouvez choisir de voir des Hommes, des Femmes, ou les deux."
    },
    {
        keywords: ['sÃ©rieux', 'plan cul', 'mariage', 'amuser', 'amis', 'chercher quoi'],
        response: "Chacun est libre de chercher ce qu'il veut : Grand Amour â¤ï¸, Mariage ğŸ’, AmitiÃ© ğŸ¤ ou juste du Fun ğŸ‰. Le secret ? Soyez honnÃªte dans votre bio pour attirer les bonnes personnes."
    },

    // --- 2. TECHNIQUE & INSTALLATION (WEB APP) ---
    {
        keywords: ['iphone', 'android', 'samsung', 'itel', 'tecno', 'infinix', 'blackberry', 'compatibilitÃ©', 'tÃ©lÃ©phone', 'vieux'],
        response: "Fast Match est une Web App ultra-moderne ! ğŸš€ Elle marche sur tous les smartphones (Android & iPhone) via votre navigateur (Chrome, Safari). Pas besoin d'un tÃ©lÃ©phone dernier cri, mais un modÃ¨le rÃ©cent est plus fluide."
    },
    {
        keywords: ['installer', 'tÃ©lÃ©charger', 'play store', 'app store', 'apk'],
        response: "Pas besoin de passer par les Stores ! ğŸ“² Ouvrez simplement le site dans votre navigateur, cliquez sur le menu (3 points) et choisissez 'Ajouter Ã  l'Ã©cran d'accueil'. L'appli s'installera comme une native, sans prendre de place !"
    },
    {
        keywords: ['place', 'mÃ©moire', 'lourde', 'stockage', 'ko', 'mo'],
        response: "C'est notre point fort : l'appli ne pÃ¨se presque rien (moins de 5 Mo) car c'est une PWA (Progressive Web App). Elle n'encombrera pas votre mÃ©moire. ğŸ’¾"
    },
    {
        keywords: ['internet', 'wifi', 'data', '4g', '3g', '2g', 'connexion', 'hors ligne', 'consommation'],
        response: "Une connexion internet est requise (Wi-Fi, 4G, 3G). L'app est optimisÃ©e pour consommer peu de data, mais le chargement des photos en consomme naturellement un peu."
    },

    // --- 3. INSCRIPTION & COMPTE ---
    {
        keywords: ['inscrire', 'inscription', 'facebook', 'google', 'numÃ©ro', 'email', 'crÃ©er compte'],
        response: "L'inscription est ultra-rapide ! Utilisez votre numÃ©ro de tÃ©lÃ©phone (Togocom/Moov), votre compte Google ou Facebook. En 30 secondes, vous Ãªtes prÃªt Ã  matcher."
    },
    {
        keywords: ['code', 'sms', 'reÃ§u', 'confirmation', 'problÃ¨me sms'],
        response: "Si le SMS n'arrive pas : 1) VÃ©rifiez que vous avez du rÃ©seau. 2) VÃ©rifiez que le numÃ©ro est correct (sans l'indicatif +228 si dÃ©jÃ  sÃ©lectionnÃ©). 3) Sinon, essayez l'inscription par Google, c'est plus fiable."
    },
    {
        keywords: ['vrai nom', 'faux nom', 'pseudo', 'identite'],
        response: "Mettez votre prÃ©nom usuel. Les pseudos type 'Bg du 228' sont tolÃ©rÃ©s mais moins efficaces pour draguer sÃ©rieux. ğŸ˜‰"
    },
    {
        keywords: ['age', 'Ã¢ge', '18 ans', 'mineur', '17 ans', 'date de naissance'],
        response: "â›”ï¸ TolÃ©rance zÃ©ro : Vous devez avoir 18 ans rÃ©volus. C'est la loi. Les profils de mineurs seront supprimÃ©s immÃ©diatement."
    },
    {
        keywords: ['mot de passe', 'oubliÃ©', 'perdu', 'connexion', 'login'],
        response: "Si vous avez oubliÃ© votre mot de passe, cliquez sur 'Mot de passe oubliÃ©' Ã  l'Ã©cran de connexion. Si vous Ãªtes inscrit via Google/Facebook, connectez-vous simplement avec le mÃªme bouton."
    },
    {
        keywords: ['bloquÃ©', 'banni', 'suspendu', 'dÃ©sactivÃ©', 'compte'],
        response: "Si votre compte est bloquÃ©, c'est probablement suite Ã  des signalements (faux profil, arnaque, harcÃ¨lement, nuditÃ©). Contactez le support si vous pensez que c'est une erreur."
    },

    // --- 4. PROFIL & PHOTOS ---
    {
        keywords: ['photo', 'image', 'visage', 'obligatoire'],
        response: "Oui, au moins une photo est obligatoire ! ğŸ“¸ On est lÃ  pour se voir, non ? Les profils sans photo ou avec des images de paysages/animaux/voitures en photo principale seront masquÃ©s."
    },
    {
        keywords: ['photo refusÃ©e', 'interdite', 'modÃ©ration', 'floue', 'charte'],
        response: "RefusÃ© ? VÃ©rifiez : Pas de nuditÃ© ğŸ”, pas d'armes, pas de drogue, pas d'enfants seuls, et on doit voir VOTRE visage. Les photos de groupe sont dÃ©conseillÃ©es en photo principale."
    },
    {
        keywords: ['bio', 'description', 'quoi Ã©crire', 'vide'],
        response: "Une bio vide = moins de matchs. ğŸ“‰ Ã‰crivez 2-3 phrases simples : ce que vous faites dans la vie, vos passions (musique, foot, cuisine...), et ce que vous cherchez."
    },
    {
        keywords: ['badge', 'vÃ©rifiÃ©', 'bleu', 'certifiÃ©', 'confiance', 'check'],
        response: "Le badge Bleu âœ… est le sÃ©same ! Il prouve que vous Ãªtes rÃ©el (pas un brouteur). Allez dans Profil > VÃ©rification et prenez un selfie vidÃ©o pour l'obtenir gratuitement."
    },
    {
        keywords: ['modifier', 'changer', 'nom', 'Ã¢ge', 'erreur'],
        response: "Vous pouvez modifier votre Bio, vos Photos et votre Travail dans 'Profil'. Pour le Nom et l'Ã‚ge, c'est bloquÃ© pour Ã©viter les abus. Contactez le support en cas d'erreur de frappe majeure."
    },

    // --- 5. SWIPE, LIKES & MATCHS ---
    {
        keywords: ['swipe', 'droite', 'gauche', 'coeur', 'croix', 'comment'],
        response: "Simple : Droite ğŸ‘‰ (ou CÅ“ur ğŸ’š) = J'aime. Gauche ğŸ‘ˆ (ou Croix âŒ) = Je passe. C'est 100% anonyme si l'autre ne vous like pas."
    },
    {
        keywords: ['match', 'matcher', 'c\'est quoi'],
        response: "Un Match ğŸ’–, c'est quand l'intÃ©rÃªt est partagÃ© ! Vous l'avez likÃ©(e), il/elle vous a likÃ©(e). Bingo ! Vous pouvez maintenant discuter."
    },
    {
        keywords: ['pas de match', 'zÃ©ro', 'rien', 'personne', 'bug'],
        response: "Pas de panique ! C'est souvent une question de profil. 1) Mettez une photo souriante de bonne qualitÃ©. 2) Remplissez votre bio. 3) Soyez actif aux heures de pointe (soirÃ©e). L'algorithme vous rÃ©compensera ! ğŸš€"
    },
    {
        keywords: ['qui m\'a likÃ©', 'voir like', 'flou'],
        response: "Vous avez reÃ§u un like mais la photo est floue ? C'est le mystÃ¨re ! âœ¨ Pour voir immÃ©diatement qui c'est, il faut passer Premium. Sinon, jouez le jeu du Swipe !"
    },
    {
        keywords: ['annuler', 'retour', 'back', 'fausse manip', 'erreur'],
        response: "Oups, swipÃ© trop vite Ã  gauche ? ğŸ™ˆ Le bouton 'Retour' â†º permet d'annuler la derniÃ¨re action. C'est une fonctionnalitÃ© rÃ©servÃ©e aux membres Premium."
    },

    // --- 6. CHAT & APPELS ---
    {
        keywords: ['message', 'Ã©crire', 'envoyer', 'chat', 'discuter'],
        response: "La rÃ¨gle d'or : Vous ne pouvez parler qu'Ã  vos Matchs ! ğŸ’¬ Une fois connectÃ©, soyez poli, drÃ´le et respectueux. Un simple 'Salut' suffit rarement..."
    },
    {
        keywords: ['numÃ©ro', 'whatsapp', 'contact', 'donner'],
        response: "Ne donnez pas votre WhatsApp trop vite ! ğŸ›‘ Prenez le temps de connaÃ®tre la personne ici. C'est plus sÃ»r. Si on vous demande votre numÃ©ro au 2Ã¨me message, mÃ©fiez-vous."
    },
    {
        keywords: ['appel', 'video', 'visio', 'tÃ©lÃ©phone', 'audio'],
        response: "BientÃ´t ! ğŸ“ La fonctionnalitÃ© d'appel Audio/VidÃ©o est en cours de dÃ©ploiement pour les membres vÃ©rifiÃ©s et Premium. Restez connectÃ©s !"
    },
    {
        keywords: ['disparu', 'conversation', 'effacÃ©', 'perdu'],
        response: "Si une conversation a disparu, c'est que l'utilisateur a supprimÃ© son compte ou a annulÃ© le match (Unmatch). Ne le prenez pas personnellement, il y a plein d'autres personnes ! ğŸŸ"
    },

    // --- 7. PREMIUM, PAIEMENT & ARGENT ---
    {
        keywords: ['premium', 'gold', 'abonnement', 'vip', 'avantages'],
        response: "ğŸ‘‘ Fast Match Gold c'est : Likes illimitÃ©s ğŸš€, Voir qui vous like ğŸ‘€, Retour en arriÃ¨re â†º, 5 Super Likes/semaine ğŸŒŸ et le Passeport Monde âœˆï¸."
    },
    {
        keywords: ['prix', 'tarif', 'combien', 'coÃ»t', 'cher'],
        response: "Nos tarifs sont adaptÃ©s au Togo ! ğŸ‡¹ğŸ‡¬ Ã€ partir de 2000 FCFA pour dÃ©couvrir. C'est moins cher qu'un rendez-vous au restaurant ! Consultez la page Premium pour les offres actuelles."
    },
    {
        keywords: ['tmoney', 'flooz', 'mobile money', 'payer comment', 'togocel', 'moov'],
        response: "On est au Togo, on connaÃ®t les rÃ©alitÃ©s ! ğŸ‡¹ğŸ‡¬ Payez facilement via TMoney ou Flooz. C'est sÃ©curisÃ©, instantanÃ© et sans carte bancaire."
    },
    {
        keywords: ['carte', 'visa', 'mastercard', 'banque'],
        response: "Les paiements par Carte Bancaire (Visa/Mastercard) sont aussi acceptÃ©s et 100% sÃ©curisÃ©s via PayGateGlobal. ğŸ”’"
    },
    {
        keywords: ['gratuit', 'sans payer'],
        response: "L'essentiel est gratuit : Voir les profils, Liker, Matcher, Discuter. Le Premium n'est qu'un accÃ©lÃ©rateur. On peut trÃ¨s bien trouver l'amour sans payer un franc !"
    },
    {
        keywords: ['remboursement', 'annuler', 'rÃ©silier'],
        response: "Vous pouvez arrÃªter le renouvellement automatique Ã  tout moment dans les RÃ©glages. Pour un remboursement (ex: bug technique avÃ©rÃ©), contactez le support."
    },

    // --- 8. SÃ‰CURITÃ‰ & ARNAQUES (TRES IMPORTANT) ---
    {
        keywords: ['arnaque', 'brouteur', 'faux profil', 'fake', 'escroc'],
        response: "âš ï¸ MÃ‰FIANCE ! Si un profil est trop beau pour Ãªtre vrai, c'est louche. Si on vous parle d'argent, d'hÃ©ritage, de maladie, de blocage Ã  la douane... C'EST UNE ARNAQUE. Signalez !"
    },
    {
        keywords: ['argent', 'demande', 'sous', 'frais', 'envoyer'],
        response: "â›”ï¸ RÃˆGLE D'OR : N'envoyez JAMAIS d'argent Ã  une personne rencontrÃ©e sur l'appli. Jamais. Pas de transfert, pas de TMoney, rien. MÃªme pour 'dÃ©panner'. Vous ne reverrez jamais votre argent."
    },
    {
        keywords: ['chantage', 'nudes', 'photos intimes', 'menace', 'sextortion'],
        response: "Si on vous menace de diffuser vos photos : 1) NE PAYEZ RIEN (ils en demanderont toujours plus). 2) Bloquez tout. 3) Signalez le profil. Votre sÃ©curitÃ© passe avant leur chantage."
    },
    {
        keywords: ['rencontre', 'rendez-vous', 'date', 'sÃ©curitÃ©'],
        response: "Premier RDV ? â˜•ï¸ Lieu public obligatoire (cafÃ©, maquis, plage animÃ©e). PrÃ©venez un proche. N'allez pas chez l'inconnu(e) le premier soir. La prudence est mÃ¨re de sÃ»retÃ©."
    },

    // --- 9. BUGS & SUPPORT ---
    {
        keywords: ['bug', 'Ã§a plante', 'bloquÃ©', 'marche pas', 'erreur', 'connexion impossible'],
        response: "Oups ! ğŸ› ï¸ 1) VÃ©rifiez votre connexion internet. 2) Actualisez la page. 3) DÃ©connectez/Reconnectez-vous. Si Ã§a persiste, notre Ã©quipe technique est sur le coup !"
    },
    {
        keywords: ['support', 'contact', 'email', 'tÃ©lÃ©phone', 'service client', 'humain'],
        response: "Besoin d'aide ? ğŸ†˜ Ã‰crivez-nous Ã  support@fastmatch.tg ou via notre page Facebook. Nous n'avons pas de standard tÃ©lÃ©phonique pour l'instant, mais on rÃ©pond vite par Ã©crit !"
    },
    {
        keywords: ['supprimer', 'compte', 'quitter', 'dÃ©sinscrire'],
        response: "Vous partez ? ğŸ˜¢ Si vous avez trouvÃ© l'amour, fÃ©licitations ! Pour supprimer votre compte et toutes vos donnÃ©es : RÃ©glages âš™ï¸ > Supprimer mon compte (tout en bas). C'est irrÃ©versible."
    },

    // --- 10. QUESTIONS INSOLITES & HUMOUR ---
    {
        keywords: ['marabout', 'magie', 'priÃ¨re', 'gris-gris', 'chance', 'envoutement'],
        response: "Chez Fast Match, on croit en l'Algorithme, pas aux gris-gris ! ğŸ”® Pas de marabout ici. Juste de la technologie pour vous aider Ã  trouver la bonne personne."
    },
    {
        keywords: ['prÃ©sident', 'faure', 'adÃ©bayor', 'star', 'cÃ©lÃ©britÃ©'],
        response: "On respecte la vie privÃ©e de tous, mÃªme des stars ! â­ï¸ S'ils sont lÃ , traitez-les comme tout le monde. (Mais il y a peu de chances de croiser le PrÃ©sident ici ğŸ˜‰)."
    },
    {
        keywords: ['payer en nature', 'poulet', 'igname', 'troc', 'crÃ©dit'],
        response: "On adore le poulet braisÃ© ğŸ—, mais nos serveurs ne mangent que de l'Ã©lectricitÃ© ! âš¡ï¸ Paiement par TMoney, Flooz ou Carte uniquement. DÃ©solÃ© !"
    },
    {
        keywords: ['mariÃ©', 'couple', 'infidÃ¨le', 'tromper', 'deuxiÃ¨me bureau'],
        response: "Fast Match est pour les cÃ©libataires honnÃªtes. ğŸ˜‰ Si vous Ãªtes en couple, assurez-vous que votre partenaire est d'accord (couple libre) ! Le mensonge finit toujours par se savoir Ã  LomÃ©..."
    }
];

export const getAIResponse = (input: string): string => {
    const lowerInput = input.toLowerCase();

    // Quick conversational matches
    if (['bonjour', 'salut', 'hello', 'coucou', 'yo', 'slt', 'cc', 'bonsoir'].some(k => lowerInput === k || lowerInput.startsWith(k + ' '))) {
        return "Salut ! ğŸ‘‹ Bienvenue sur l'assistance Fast Match. Je suis lÃ  pour rÃ©pondre Ã  TOUTES vos questions (Inscription, Paiement, Arnaques, Profil...). Dites-moi tout !";
    }
    if (['merci', 'top', 'cool', 'super', 'gÃ©nial', 'ok'].some(k => lowerInput.includes(k))) {
        return "Ã€ votre service ! N'hÃ©sitez pas si vous avez d'autres questions. Bonne chance pour vos matchs ! â¤ï¸";
    }
    if (['ca va', 'Ã§a va', 'tu vas bien', 'cv'].some(k => lowerInput.includes(k))) {
        return "Je suis une Intelligence Artificielle, je suis toujours en forme ! ğŸ¤– Et vous, prÃªt(e) Ã  faire des rencontres ?";
    }

    // Search in Knowledge Base
    // Priority logic: We look for the entry with the MOST matching keywords
    let bestMatch = null;
    let maxKeywordsFound = 0;

    for (const item of knowledgeBase) {
        let keywordsFound = 0;
        for (const k of item.keywords) {
            if (lowerInput.includes(k)) {
                keywordsFound++;
            }
        }

        // Bonus for exact matches or high relevance
        if (keywordsFound > maxKeywordsFound) {
            maxKeywordsFound = keywordsFound;
            bestMatch = item;
        }
    }

    if (bestMatch && maxKeywordsFound > 0) {
        return bestMatch.response;
    }

    // Default fallback
    return "Je ne suis pas sÃ»r de comprendre. ğŸ¤” Je peux vous aider sur :\n- ğŸ“ L'Inscription & le Profil\n- ğŸ’° Les Paiements (TMoney/Flooz)\n- ğŸ›¡ï¸ La SÃ©curitÃ© & les Arnaques\n- ğŸ’– Le fonctionnement des Matchs\n\nEssayez de reformuler avec des mots-clÃ©s simples !";
};
